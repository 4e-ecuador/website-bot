{% extends 'base.html.twig' %}

{% block title %}{{ 'Medals by date'|trans }}{% endblock %}

{% block body %}
    <h1>{{ 'Medals by date'|trans }}</h1>
    <form>
        <label for="startDate">Start</label>
        <input id="startDate" type="date" name="start_date" value="{{ startDate|date('Y-m-d') }}">
        <label for="endDate">End</label>
        <input id="endDate" type="date" name="end_date" value="{{ endDate|date('Y-m-d') }}">

        <button>Consultar</button>
    </form>

    {% if medalsGained %}
        <h3>Medals Gained</h3>
        <table class="table table-sm">
            <th>Date</th>
            <th>Agent</th>
            <th>Medal</th>
            <th>Level</th>
            {% for date,dateMedals in medalsGained %}
                {% for agent,medals in dateMedals %}
                    {% for name,level in medals %}
                        <tr>
                            <td>{{ date }}</td>
                            <td>{{ agent }}</td>
                            <td>{{ name }}</td>
                            <td>{{ level|medalLevel }}</td>
                        </tr>
                    {% endfor %}
                {% endfor %}
            {% endfor %}
        </table>
    {% else %}
        <div class="alert alert-warning">No medals gained :(</div>
    {% endif %}
{% endblock %}
