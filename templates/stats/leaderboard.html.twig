{% extends 'base.html.twig' %}

{% block title %}Leaderboard{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('stats-leaderboard') }}
{% endblock %}

{% block body %}
    <h1>Leaderboard</h1>

    {% set maxCount = 4 %}

    <div class="row">
        {% for type, entries in board %}
            {% set count = 1 %}
            <div class="col-sm-3 card">
                <div class="card-header">
                    <h5>{{ type|ucfirst }}</h5>
                </div>
                    {% for agent, value in entries %}
                    {% if count == maxCount %}
                    <div class="btn btn-info btn-sm showAll">{{ 'Show all'|trans }}</div>
                    <div style="display: none">
                        {% endif %}
                        <div class="row">
                            <div class="col-sm-1">
                                <span class="badge badge-pill badge-secondary">{{ count }}</span>
                            </div>
                            <div class="col-sm">
                                {{ agent }}
                            </div>
                            <div class="col-sm text-right">
                                {{ value|number_format }}
                            </div>
                        </div>

                        {% set count = count + 1 %}
                        {% endfor %}
                        {% if count > maxCount %}
                    </div>
                    {% endif %}
            </div>
        {% endfor %}
    </div>

{% endblock %}
