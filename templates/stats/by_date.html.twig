{% extends 'base.html.twig' %}

{% block title %}{{ 'Medals by date'|trans }}{% endblock %}

{% block body %}
    <h1>{{ 'Medals by date'|trans }}</h1>
    <form>
        <label for="startDate">Start</label>
        <input id="startDate" type="date" name="start_date" value="{{ startDate|date('Y-m-d') }}">
        <label for="endDate">End</label>
        <input id="endDate" type="date" name="end_date" value="{{ endDate|date('Y-m-d') }}">

        <button>Consultar</button>
    </form>

    {% if medalsGained %}
        <h3>(Version 1)</h3>
        <table class="table table-sm">
            <th>Date</th>
            <th>Agent</th>
            <th>Medal</th>
            <th>Level</th>
            {% for date,dateMedals in medalsGained %}
                {% for agent,medals in dateMedals %}
                    {% for name,level in medals %}
                        <tr>
                            <td>{{ date }}</td>
                            <td>{{ agent }}</td>
                            <td>{{ name }}</td>
                            <td>{{ level|medalLevel }}</td>
                        </tr>
                    {% endfor %}
                {% endfor %}
            {% endfor %}
        </table>
    {% else %}
        <div class="alert alert-warning">No medals gained :(</div>
    {% endif %}

    {% if medalsGained1 %}
        <h3>(Version 2)</h3>

        <div class="row">
            {% for medal, agents in medalsGained1 %}
                <div class="col-2">
                    <div class="card">
                        <div class="card-header">
                            {{ medal }}
                        </div>
                        <div class="card-body">
                            <ul class="list-unstyled">
                                {% for agent in agents %}
                                    <li>{{ agent.agent ~ ': ' ~ agent.level|translateMedalLevel }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <h3>(Version 3)</h3>

        <code>
            {% for medal, agents in medalsGained1 %}
                <br>{{ medal }}<br>
                =============<br>
                                {% for agent in agents %}
                * {{ agent.agent ~ ': ' ~ agent.level|translateMedalLevel }}<br>
                                {% endfor %}

            {% endfor %}

        </code>
    {% else %}
        <div class="alert alert-warning">No medals gained :(</div>
    {% endif %}
{% endblock %}
